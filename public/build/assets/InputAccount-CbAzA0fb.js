import{r as f,q as i,G as b,c as d,o as m,d as h,b as y,n as x,t as N}from"./vendor-g77w9U1W.js";const S={class:"mt-1"},V=["value","required","placeholder"],q={key:0,class:"mt-2 text-sm text-red-600"},k={__name:"InputAccount",props:{modelValue:[String,Number],required:Boolean,placeholder:String,error:String,pointId:[String,Number],settings:{type:Object,default:()=>({currency_symbol:"Rp",thousands_separator:",",min_value:0,max_value:1e9})}},emits:["update:modelValue","save"],setup(u,{emit:c}){const n=u,l=c,s=f(""),a=i(()=>{var e,t,r,o;return{currency_symbol:((e=n.settings)==null?void 0:e.currency_symbol)||"Rp",thousands_separator:((t=n.settings)==null?void 0:t.thousands_separator)||",",min_value:((r=n.settings)==null?void 0:r.min_value)!==void 0?Number(n.settings.min_value):0,max_value:((o=n.settings)==null?void 0:o.max_value)!==void 0?Number(n.settings.max_value):1e9}}),v=e=>{if(e==null||e==="")return"";const t=Number(e);if(isNaN(t))return"";let r=t.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0});return a.value.thousands_separator!==","&&(r=r.replace(/,/g,a.value.thousands_separator)),r},g=e=>e?e.replace(/[^\d]/g,""):"",p=i(()=>s.value?`${a.value.currency_symbol} ${v(s.value)}`:""),_=e=>{let t=g(e.target.value),r=Number(t);a.value.min_value!==void 0&&r<a.value.min_value&&(t=a.value.min_value.toString()),a.value.max_value!==void 0&&r>a.value.max_value&&(t=a.value.max_value.toString()),s.value=t,l("update:modelValue",t),l("save",n.pointId)};return b(()=>n.modelValue,e=>{e!=null&&(s.value=e.toString())},{immediate:!0}),(e,t)=>(m(),d("div",S,[h("input",{value:p.value,onInput:_,type:"text",required:u.required,placeholder:u.placeholder,class:x(["block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm transition duration-150",u.error?"border-red-300":"border-gray-300"])},null,42,V),u.error?(m(),d("p",q,N(u.error),1)):y("",!0)]))}};export{k as default};
