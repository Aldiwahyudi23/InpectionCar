import{O as M,W as x,b as f,o as r,w as b,e as y,d as t,u as i,l as B,t as o,v as p,H as h,y as R,f as c,F as v,k as w,n as _,i as T,S as k,j as d}from"./vendor-BTHpbkmK.js";import{l as V}from"./lodash-DIQq7uM1.js";import{A as L}from"./AppLayout-DN0OSRb8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"flex-1 overflow-y-auto"},A={class:"bg-white shadow-md p-4 md:p-6 flex items-center justify-between"},z={class:"flex items-center space-x-4 text-sm text-gray-600"},F={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},O={class:"px-4 sm:px-0 mb-6"},H={class:"bg-white overflow-hidden shadow-lg rounded-2xl p-6"},N={class:"grid grid-cols-2 sm:grid-cols-2 gap-4 mb-4"},U={class:"px-4 sm:px-0 mb-6"},$={class:"flex flex-col gap-5"},E={class:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-6 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},W={class:"mt-1 text-3xl font-semibold"},q={class:"grid grid-cols-3 sm:grid-cols-3 gap-4"},G={class:"bg-white p-6 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},J={class:"mt-1 text-2xl font-semibold text-yellow-600"},K={class:"bg-white p-6 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},Q={class:"mt-1 text-2xl font-semibold text-blue-600"},X={class:"bg-white p-6 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},Y={class:"mt-1 text-2xl font-semibold text-green-600"},Z={class:"px-4 sm:px-0"},tt={class:"bg-white shadow-lg overflow-hidden rounded-2xl"},et={class:"flex flex-col"},st={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},ot={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},nt={class:"shadow overflow-hidden border-b border-gray-200 rounded-xl"},at={class:"min-w-full divide-y divide-gray-200"},lt={class:"bg-white divide-y divide-gray-200"},rt={class:"px-6 py-4 whitespace-nowrap"},it={class:"flex items-center"},dt={class:"ml-4"},ct={class:"text-sm font-medium text-gray-900"},ut={class:"text-sm text-gray-500"},mt={class:"px-6 py-4 whitespace-nowrap"},xt={class:"text-sm text-gray-900"},pt={class:"text-sm text-gray-500"},gt={class:"px-6 py-4 whitespace-nowrap"},ft={class:"text-sm text-gray-900"},bt={class:"text-sm text-gray-500"},yt={class:"px-6 py-4 whitespace-nowrap"},ht={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},vt=["onClick"],wt={class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-4"},_t={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},kt={class:"text-sm text-gray-700"},It={class:"font-medium"},Ct={class:"font-medium"},St={class:"font-medium"},jt={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Vt={__name:"Index",props:{inspections:Object,filters:Object,stats:Object,region:Object},setup(a){const u=a,l=M({status:u.filters.status||"",dateRange:u.filters.dateRange||"all",search:u.filters.search||""}),g=V.debounce(()=>{m()},500),m=()=>{x.get(route("coordinator.inspections.index"),l,{preserveState:!0,replace:!0})},I=n=>{const e={year:"numeric",month:"long",day:"numeric"};return new Date(n).toLocaleDateString("id-ID",e)},C=n=>{const e={hour:"2-digit",minute:"2-digit"};return new Date(n).toLocaleTimeString("id-ID",e)},S=n=>({pending:"Pending",in_progress:"In Progress",completed:"Completed",rejected:"Rejected"})[n]||n,j=n=>({pending:"bg-yellow-100 text-yellow-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[n]||"bg-gray-100 text-gray-800",D=async n=>{try{await x.post(route("coordinator.inspections.assign",n)),x.reload({only:["inspections","stats"]})}catch(e){console.error("Error assigning inspection:",e)}};return(n,e)=>(r(),f(L,{title:"Buat Inspeksi Baru"},{default:b(()=>[y(i(B),{title:"Coordinator Dashboard"}),t("div",P,[t("header",A,[e[5]||(e[5]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Dashboard Coordinator",-1)),t("div",z,[e[4]||(e[4]=t("svg",{class:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),t("span",null,"Region: "+o(a.region.name),1)])]),t("main",F,[t("div",O,[t("div",H,[e[11]||(e[11]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Filter Inspections",-1)),t("div",N,[t("div",null,[e[7]||(e[7]=t("label",{for:"status",class:"block text-sm font-medium text-gray-700"},"Status",-1)),p(t("select",{id:"status","onUpdate:modelValue":e[0]||(e[0]=s=>l.status=s),onChange:m,class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md"},e[6]||(e[6]=[t("option",{value:""},"All Status",-1),t("option",{value:"pending"},"Pending",-1),t("option",{value:"in_progress"},"In Progress",-1),t("option",{value:"completed"},"Completed",-1),t("option",{value:"rejected"},"Rejected",-1)]),544),[[h,l.status]])]),t("div",null,[e[9]||(e[9]=t("label",{for:"date",class:"block text-sm font-medium text-gray-700"},"Date Range",-1)),p(t("select",{id:"date","onUpdate:modelValue":e[1]||(e[1]=s=>l.dateRange=s),onChange:m,class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md"},e[8]||(e[8]=[t("option",{value:"all"},"All Time",-1),t("option",{value:"today"},"Hari Ini",-1),t("option",{value:"week"},"Minggu Ini",-1),t("option",{value:"month"},"Bulan Ini",-1)]),544),[[h,l.dateRange]])])]),t("div",null,[e[10]||(e[10]=t("label",{for:"search",class:"block text-sm font-medium text-gray-700"},"Search",-1)),p(t("input",{type:"text",id:"search","onUpdate:modelValue":e[2]||(e[2]=s=>l.search=s),onInput:e[3]||(e[3]=(...s)=>i(g)&&i(g)(...s)),placeholder:"Search by car or inspector...",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},null,544),[[R,l.search]])])])]),t("div",U,[t("div",$,[t("div",E,[e[12]||(e[12]=t("dt",{class:"text-sm font-medium opacity-80"},"Total Inspections",-1)),t("dd",W,o(a.stats.total),1)]),t("div",q,[t("div",G,[e[13]||(e[13]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Pending",-1)),t("dd",J,o(a.stats.pending),1)]),t("div",K,[e[14]||(e[14]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"In Progress",-1)),t("dd",Q,o(a.stats.in_progress),1)]),t("div",X,[e[15]||(e[15]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Completed",-1)),t("dd",Y,o(a.stats.completed),1)])])])]),t("div",Z,[t("div",tt,[t("div",et,[t("div",st,[t("div",ot,[t("div",nt,[t("table",at,[e[17]||(e[17]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Car Details "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Inspector "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Inspection Date "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",lt,[(r(!0),c(v,null,w(a.inspections.data,s=>(r(),c("tr",{key:s.id},[t("td",rt,[t("div",it,[t("div",dt,[t("div",ct,o(s.car_name),1),t("div",ut,o(s.plate_number),1)])])]),t("td",mt,[t("div",xt,o(s.user.name),1),t("div",pt,o(s.user.email),1)]),t("td",gt,[t("div",ft,o(I(s.inspection_date)),1),t("div",bt,o(C(s.inspection_date)),1)]),t("td",yt,[t("span",{class:_(`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${j(s.status)}`)},o(S(s.status)),3)]),t("td",ht,[y(i(k),{href:n.route("coordinator.inspections.show",s.id),class:"text-blue-600 hover:text-blue-900 mr-3"},{default:b(()=>e[16]||(e[16]=[d("View")])),_:2,__:[16]},1032,["href"]),s.status==="pending"?(r(),c("button",{key:0,onClick:Dt=>D(s.id),class:"text-green-600 hover:text-green-900"},"Assign",8,vt)):T("",!0)])]))),128))])])]),t("div",wt,[t("div",_t,[t("div",null,[t("p",kt,[e[18]||(e[18]=d(" Showing ")),t("span",It,o(a.inspections.from),1),e[19]||(e[19]=d(" to ")),t("span",Ct,o(a.inspections.to),1),e[20]||(e[20]=d(" of ")),t("span",St,o(a.inspections.total),1),e[21]||(e[21]=d(" results "))])]),t("div",null,[t("nav",jt,[(r(!0),c(v,null,w(a.inspections.links,s=>(r(),f(i(k),{key:s.label,href:s.url||"#",class:_(`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${s.active?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} ${s.url?"":"opacity-50 cursor-not-allowed"}`),innerHTML:s.label,"preserve-state":""},null,8,["href","class","innerHTML"]))),128))])])])])])])])])])])])]),_:1}))}};export{Vt as default};
