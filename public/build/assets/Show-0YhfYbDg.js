import{g as m,b as v,o,w as k,e as h,d as e,f as l,i as r,u as w,l as j,n as A,t as n,j as u,F as D,k as C}from"./vendor-BTHpbkmK.js";import{A as M}from"./AppLayout-DfBZcBN2.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"flex-1 overflow-y-auto bg-gray-100"},$={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-4"},B={class:"bg-white rounded-xl shadow-md p-6"},S={class:"flex flex-col sm:flex-row sm:items-center justify-between"},N={class:"mt-4 sm:mt-0"},P={class:"bg-white rounded-xl shadow-md p-4"},L={class:"flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-4"},R=["src","alt"],z={class:"text-center sm:text-left"},V={class:"text-xl font-bold text-gray-900"},H={class:"text-sm text-gray-600"},F={class:"text-sm text-gray-500 mt-1"},O={class:"font-medium text-gray-800"},W={class:"grid grid-cols-2 gap-y-4 gap-x-6 mt-6 border-t pt-4"},q={class:"mt-1 text-sm text-gray-900"},E={class:"mt-1 text-sm text-gray-900"},K={class:"mt-1 text-sm text-gray-900"},U={class:"mt-1 text-sm text-gray-900"},G={class:"mt-1 text-sm text-gray-900"},J={class:"mt-1 text-sm text-gray-900"},Q={class:"mt-1 text-sm text-gray-900"},X={class:"mt-1 text-sm text-gray-900"},Y={class:"bg-white rounded-xl shadow-md p-6 relative"},Z={class:"flex items-center space-x-4"},_=["src","alt"],ee={class:"flex-1 min-w-0"},te={class:"font-semibold text-gray-900"},se={class:"text-sm text-gray-500"},ne={class:"text-sm text-gray-500"},ie=["href"],ae={key:0,class:"bg-white rounded-xl shadow-md p-4"},oe={class:"mt-1 text-sm text-gray-900 leading-relaxed whitespace-pre-wrap"},le=["innerHTML"],re={class:"bg-white rounded-xl shadow-md p-4"},de={key:0,class:"relative border-l-2 border-gray-200 pl-6"},ce={class:"bg-gray-50 rounded-lg p-3"},me={class:"text-sm text-gray-900"},ue={class:"font-bold"},ge={class:"text-gray-500"},xe={key:1,class:"text-gray-500 text-sm italic"},be={class:"bg-white rounded-xl shadow-md p-6 flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0"},pe={class:"text-sm text-gray-500"},ye={class:"font-medium text-gray-700"},fe={class:"flex flex-wrap justify-center sm:justify-end gap-3"},ve={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},ke={__name:"Show",props:{inspection:{type:Object,required:!0}},setup(s){const g=m(!1),b=m(""),p=m(""),x=i=>{if(!i)return"N/A";const t=new Date(i),a={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return t.toLocaleDateString("id-ID",a)},y=i=>({draft:"Dibuat",in_progress:"Dalam Proses",pending:"Tertunda",pending_review:"Menunggu Tinjauan",approved:"Disetujui",rejected:"Ditolak",revision:"Revisi",completed:"Selesai",cancelled:"Dibatalkan"})[i]||i,f=i=>({draft:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",pending:"bg-yellow-100 text-yellow-800",pending_review:"bg-purple-100 text-purple-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",revision:"bg-orange-100 text-orange-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[i]||"bg-gray-100 text-gray-800",d=i=>{let t="";i==="assign"?t="Apakah Anda yakin ingin menugaskan inspeksi ini?":i==="complete"?t="Apakah Anda yakin ingin menyelesaikan inspeksi ini?":i==="approve"?t="Apakah Anda yakin ingin menyetujui inspeksi ini?":i==="revision"?t="Apakah Anda yakin ingin meminta revisi untuk inspeksi ini?":i==="reject"&&(t="Apakah Anda yakin ingin menolak inspeksi ini?"),b.value=t,p.value=i,g.value=!0};return(i,t)=>(o(),v(M,null,{default:k(()=>[h(w(j),{title:`Detail Inspeksi - ${s.inspection.car.brand.name} ${s.inspection.car.model.name}`},null,8,["title"]),e("div",I,[e("div",$,[e("div",B,[e("div",S,[t[5]||(t[5]=e("div",null,[e("h3",{class:"text-xl font-bold text-gray-900"},"Detail Inspeksi"),e("p",{class:"text-sm text-gray-500"},"Informasi lengkap tentang inspeksi kendaraan.")],-1)),e("div",N,[e("span",{class:A(`px-4 py-2 inline-flex text-sm leading-5 font-bold rounded-full ${f(s.inspection.status)}`)},n(y(s.inspection.status)),3)])])]),e("div",P,[t[15]||(t[15]=e("h4",{class:"text-lg font-semibold text-gray-900 mb-4"},"Informasi Kendaraan",-1)),e("div",L,[e("img",{class:"h-24 w-24 rounded-lg object-cover shadow-md flex-shrink-0",src:s.inspection.car.image||"https://placehold.co/100x100/22c55e/ffffff?text=Mobil",alt:s.inspection.car.brand.name},null,8,R),e("div",z,[e("div",V,n(s.inspection.car.brand.name)+" "+n(s.inspection.car.model.name),1),e("div",H,n(s.inspection.car.type.name)+" | "+n(s.inspection.car.year),1),e("div",F,[t[6]||(t[6]=u(" Plat Nomor: ")),e("span",O,n(s.inspection.plate_number),1)])])]),e("div",W,[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-xs font-medium text-gray-500"},"No. Mesin",-1)),e("p",q,n(s.inspection.nosin||"-"),1)]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-xs font-medium text-gray-500"},"No. Rangka",-1)),e("p",E,n(s.inspection.noka||"-"),1)]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-xs font-medium text-gray-500"},"Warna",-1)),e("p",K,n(s.inspection.color||"-"),1)]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-xs font-medium text-gray-500"},"Transmisi",-1)),e("p",U,n(s.inspection.car.transmission),1)]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-xs font-medium text-gray-500"},"Bahan Bakar",-1)),e("p",G,n(s.inspection.car.fuel_type),1)]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-xs font-medium text-gray-500"},"CC",-1)),e("p",J,n(s.inspection.car.cc)+" cc",1)]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-xs font-medium text-gray-500"},"Periode Produksi",-1)),e("p",Q,n(s.inspection.car.production_period),1)]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-xs font-medium text-gray-500"},"Odometer",-1)),e("p",X,n(s.inspection.km?`${s.inspection.km} km`:"Belum tercatat"),1)])])]),e("div",Y,[t[17]||(t[17]=e("h4",{class:"text-lg font-semibold text-gray-900 mb-4"},"Informasi Inspektur",-1)),e("div",Z,[e("img",{class:"h-16 w-16 rounded-full object-cover shadow flex-shrink-0",src:s.inspection.user.profile_photo_url||"https://placehold.co/48x48/22c55e/ffffff?text=USR",alt:s.inspection.user.name},null,8,_),e("div",ee,[e("div",te,n(s.inspection.user.name),1),e("div",se,n(s.inspection.user.email),1),e("div",ne,n(s.inspection.user.numberPhone),1)])]),s.inspection.user.numberPhone?(o(),l("a",{key:0,href:`https://wa.me/62${s.inspection.user.numberPhone}`,target:"_blank",class:"absolute bottom-6 right-6 text-green-500 hover:text-green-600 transition-colors","aria-label":"Hubungi Inspektur via WhatsApp"},t[16]||(t[16]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M12.04 2.167c-5.462 0-9.917 4.455-9.917 9.916 0 1.583.376 3.107 1.077 4.485l-1.161 4.24 4.321-1.139a9.854 9.854 0 0 0 4.298 1.056c5.46 0 9.914-4.453 9.914-9.913s-4.454-9.915-9.914-9.915zm4.84 14.73c-.15.223-.523.292-.79.358-.266.066-.62.099-.967.126-.347.027-1.127.054-2.147-.393-1.02-.448-1.742-1.282-2.13-1.898-.386-.615-.812-1.637-.456-2.585.356-.948 1.144-1.258 1.393-1.464.25-.206.536-.292.834-.292.3.001.594-.099.86-.099.266 0 .47.009.682.045.212.036.467.247.66.757.2.51.688 1.637.747 1.765.059.128.094.275.028.468-.066.193-.362.593-.523.702-.16.11-.322.22-.48.329-.158.109-.323.238-.426.377-.103.139-.214.33-.06.6.155.27.425.432.748.552.324.12.656.168.99.25.334.08.665.178.966.262.3.084.577.162.77.25.192.088.356.168.487.24.131.071.257.147.34.19.083.04.168.105.28.188.112.083.272.253.377.425.105.171.18.34.25.503.07.163.14.33.19.5.05.173.085.34.103.5.018.16.035.32.035.597 0 .167-.008.31-.027.442-.02.132-.045.242-.08.332-.034.09-.07.167-.105.23-.035.063-.122.14-.2.203-.078.063-.173.123-.28.188-.108.065-.25.127-.4.188-.15.061-.31.115-.487.168z"})],-1)]),8,ie)):r("",!0)]),s.inspection.notes?(o(),l("div",ae,[t[18]||(t[18]=e("h4",{class:"text-lg font-semibold text-gray-900 mb-4"},"Catatan Tambahan",-1)),e("p",oe,[e("div",{innerHTML:s.inspection.notes||"-"},null,8,le)])])):r("",!0),e("div",re,[t[20]||(t[20]=e("h2",{class:"text-lg font-semibold mb-4"},"Riwayat Proses",-1)),s.inspection.logs.length>0?(o(),l("div",de,[(o(!0),l(D,null,C([...s.inspection.logs].sort((a,c)=>new Date(a.created_at)-new Date(c.created_at)),a=>{var c;return o(),l("div",{key:a.id,class:"mb-6 relative"},[t[19]||(t[19]=e("div",{class:"absolute -left-[11px] top-1 w-4 h-4 bg-blue-500 rounded-full border-2 border-white shadow"},null,-1)),e("div",ce,[e("p",me,[e("span",ue,n(((c=a.user)==null?void 0:c.name)??"Sistem"),1),u(" "+n(a.description),1)]),e("small",ge,n(x(a.created_at)),1)])])}),128))])):(o(),l("div",xe,"Belum ada riwayat proses yang tersedia."))]),e("div",be,[e("div",pe,[t[21]||(t[21]=u(" Terakhir diperbarui: ")),e("span",ye,n(x(s.inspection.updated_at)),1)]),e("div",fe,[s.inspection.status==="draft"||s.inspection.status==="pending"?(o(),l("button",{key:0,onClick:t[0]||(t[0]=a=>d("assign")),class:"btn-primary bg-green-600 hover:bg-green-700"}," Tugaskan Inspektur ")):r("",!0),s.inspection.status==="pending_review"?(o(),l("button",{key:1,onClick:t[1]||(t[1]=a=>d("approve")),class:"btn-primary bg-green-600 hover:bg-green-700"}," Setujui ")):r("",!0),s.inspection.status==="pending_review"?(o(),l("button",{key:2,onClick:t[2]||(t[2]=a=>d("revision")),class:"btn-primary bg-orange-600 hover:bg-orange-700"}," Minta Revisi ")):r("",!0),s.inspection.status==="in_progress"?(o(),l("button",{key:3,onClick:t[3]||(t[3]=a=>d("complete")),class:"btn-primary bg-blue-600 hover:bg-blue-700"}," Tandai Selesai ")):r("",!0),s.inspection.status!=="rejected"&&s.inspection.status!=="cancelled"&&s.inspection.status!=="completed"?(o(),l("button",{key:4,onClick:t[4]||(t[4]=a=>d("reject")),class:"btn-primary bg-red-600 hover:bg-red-700"}," Tolak ")):r("",!0)])])])]),g.value?(o(),l("div",ve)):r("",!0)]),_:1}))}},Ae=T(ke,[["__scopeId","data-v-2a6483fd"]]);export{Ae as default};
