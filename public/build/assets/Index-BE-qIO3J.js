import{O as M,W as b,b as y,o as l,w as u,e as m,d as t,u as r,l as C,t as a,v,H as w,y as B,f as c,F as _,k,n as x,i as L,S as g,j as d}from"./vendor-BTHpbkmK.js";import{l as R}from"./lodash-DIQq7uM1.js";import{A as V}from"./AppLayout-DfBZcBN2.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"flex-1 overflow-y-auto"},z={class:"bg-white shadow-md p-4 md:p-6 flex items-center justify-between"},F={class:"flex items-center space-x-4 text-sm text-gray-600"},H={class:"max-w-4xl mx-auto py-4 sm:px-4 lg:px-4"},N={class:"px-4 sm:px-0 mb-4"},P={class:"bg-white overflow-hidden shadow-lg rounded-2xl p-4"},U={class:"grid grid-cols-2 sm:grid-cols-2 gap-4 mb-4"},W={class:"px-4 sm:px-0 mb-4"},$={class:"flex flex-col gap-4"},E={class:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},A={class:"text-3xl font-semibold"},K={class:"grid grid-cols-3 sm:grid-cols-3 gap-2"},q={class:"bg-yellow-100 p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},G={class:"text-2xl font-semibold text-yellow-600"},J={class:"bg-blue-100 p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},Q={class:"text-2xl font-semibold text-blue-600"},X={class:"bg-amber-100 p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},Y={class:"text-2xl font-semibold text-amber-600"},Z={class:"bg-indigo-100 p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},tt={class:"text-2xl font-semibold text-indigo-600"},et={class:"bg-green-100 p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},st={class:"text-2xl font-semibold text-green-600"},ot={class:"bg-red-100 p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},at={class:"text-2xl font-semibold text-red-600"},nt={class:"bg-purple-100 p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},it={class:"text-2xl font-semibold text-purple-600"},rt={class:"bg-gray-100 p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},dt={class:"text-2xl font-semibold text-gray-600"},lt={class:"bg-emerald-100 p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},ut={class:"text-2xl font-semibold text-emerald-600"},mt={class:"px-4 sm:px-0"},ct={class:"bg-white shadow-lg overflow-hidden rounded-2xl"},xt={class:"flex flex-col"},gt={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},pt={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},ft={class:"shadow overflow-hidden border-b border-gray-200 rounded-xl"},bt={class:"min-w-full divide-y divide-gray-200"},vt={class:"bg-white divide-y divide-gray-200"},ht={class:"px-6 py-4 whitespace-nowrap"},yt={class:"flex items-center"},wt={class:"ml-4"},_t={class:"text-sm font-medium text-gray-900"},kt={class:"text-sm text-gray-500"},Dt={class:"px-6 py-4 whitespace-nowrap"},jt={class:"text-sm text-gray-900"},St={class:"text-sm text-gray-500"},Tt={class:"px-6 py-4 whitespace-nowrap"},It={class:"text-sm text-gray-900"},Mt={class:"text-sm text-gray-500"},Ct={class:"px-6 py-4 whitespace-nowrap"},Bt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Lt=["onClick"],Rt={class:"bg-white px-6 py-2 flex items-center justify-between border-t border-gray-200 mt-2"},Vt={class:"flex-1 flex justify-between sm:hidden"},Ot={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},zt={class:"text-sm text-gray-700"},Ft={class:"font-medium"},Ht={class:"font-medium"},Nt={class:"font-medium"},Pt={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Kt={__name:"Index",props:{inspections:Object,encryptedIds:Object,filters:Object,stats:Object,region:Object},setup(o){const p=o,i=M({status:p.filters.status||"",dateRange:p.filters.dateRange||"all",search:p.filters.search||""}),h=R.debounce(()=>{f()},500),f=()=>{b.get(route("coordinator.inspections.index"),i,{preserveState:!0,replace:!0})},D=n=>{const e={year:"numeric",month:"long",day:"numeric"};return new Date(n).toLocaleDateString("id-ID",e)},j=n=>{const e={hour:"2-digit",minute:"2-digit"};return new Date(n).toLocaleTimeString("id-ID",e)},S=n=>({draft:"Dibuat",in_progress:"Dalam Proses",pending:"Tertunda",pending_review:"Menunggu Tinjauan",approved:"Disetujui",rejected:"Ditolak",revision:"Revisi",completed:"Selesai",cancelled:"Dibatalkan"})[n]||n,T=n=>({draft:"bg-slate-400 text-white",in_progress:"bg-blue-600 text-white",pending:"bg-amber-500 text-white",pending_review:"bg-indigo-500 text-white",approved:"bg-emerald-500 text-white",rejected:"bg-red-500 text-white",revision:"bg-orange-500 text-white",completed:"bg-emerald-500 text-white",cancelled:"bg-red-500 text-white"})[n]||"bg-gray-100 text-gray-800",I=async n=>{try{await b.post(route("coordinator.inspections.assign",n)),b.reload({only:["inspections","stats"]})}catch(e){console.error("Error assigning inspection:",e)}};return(n,e)=>(l(),y(V,{title:"Buat Inspeksi Baru"},{default:u(()=>[m(r(C),{title:"Dashboard Koordinator"}),t("div",O,[t("header",z,[e[5]||(e[5]=t("h1",{class:"text-xl font-bold text-gray-900"},"Dashboard Koordinator",-1)),t("div",F,[e[4]||(e[4]=t("svg",{class:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),t("span",null,"Wilayah: "+a(o.region.name),1)])]),t("main",H,[t("div",N,[t("div",P,[e[11]||(e[11]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Saring Inspeksi",-1)),t("div",U,[t("div",null,[e[7]||(e[7]=t("label",{for:"status",class:"block text-sm font-medium text-gray-700"},"Status",-1)),v(t("select",{id:"status","onUpdate:modelValue":e[0]||(e[0]=s=>i.status=s),onChange:f,class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md"},e[6]||(e[6]=[t("option",{value:""},"Semua Status",-1),t("option",{value:"draft"},"Dibuat",-1),t("option",{value:"in_progress"},"Dalam Proses",-1),t("option",{value:"pending"},"Tertunda",-1),t("option",{value:"pending_review"},"Menunggu Tinjauan",-1),t("option",{value:"approved"},"Disetujui",-1),t("option",{value:"rejected"},"Ditolak",-1),t("option",{value:"revision"},"Revisi",-1),t("option",{value:"completed"},"Selesai",-1),t("option",{value:"cancelled"},"Dibatalkan",-1)]),544),[[w,i.status]])]),t("div",null,[e[9]||(e[9]=t("label",{for:"date",class:"block text-sm font-medium text-gray-700"},"Rentang Tanggal",-1)),v(t("select",{id:"date","onUpdate:modelValue":e[1]||(e[1]=s=>i.dateRange=s),onChange:f,class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md"},e[8]||(e[8]=[t("option",{value:"all"},"Sepanjang Waktu",-1),t("option",{value:"today"},"Hari Ini",-1),t("option",{value:"week"},"Minggu Ini",-1),t("option",{value:"month"},"Bulan Ini",-1)]),544),[[w,i.dateRange]])])]),t("div",null,[e[10]||(e[10]=t("label",{for:"search",class:"block text-sm font-medium text-gray-700"},"Cari",-1)),v(t("input",{type:"text",id:"search","onUpdate:modelValue":e[2]||(e[2]=s=>i.search=s),onInput:e[3]||(e[3]=(...s)=>r(h)&&r(h)(...s)),placeholder:"Cari berdasarkan mobil atau inspektur...",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},null,544),[[B,i.search]])])])]),t("div",W,[t("div",$,[t("div",E,[e[12]||(e[12]=t("dt",{class:"text-sm font-medium opacity-80"},"Total Inspeksi",-1)),t("dd",A,a(o.stats.total),1)]),t("div",K,[t("div",q,[e[13]||(e[13]=t("dt",{class:"text-sm font-medium text-gray-700 truncate"},"Dibuat",-1)),t("dd",G,a(o.stats.draft),1)]),t("div",J,[e[14]||(e[14]=t("dt",{class:"text-sm font-medium text-gray-700 truncate"},"Dalam Proses",-1)),t("dd",Q,a(o.stats.in_progress),1)]),t("div",X,[e[15]||(e[15]=t("dt",{class:"text-sm font-medium text-gray-700 truncate"},"Tertunda",-1)),t("dd",Y,a(o.stats.pending),1)]),t("div",Z,[e[16]||(e[16]=t("dt",{class:"text-sm font-medium text-gray-700 truncate"},"Ditinjau",-1)),t("dd",tt,a(o.stats.pending_review),1)]),t("div",et,[e[17]||(e[17]=t("dt",{class:"text-sm font-medium text-gray-700 truncate"},"Disetujui",-1)),t("dd",st,a(o.stats.approved),1)]),t("div",ot,[e[18]||(e[18]=t("dt",{class:"text-sm font-medium text-gray-700 truncate"},"Ditolak",-1)),t("dd",at,a(o.stats.rejected),1)]),t("div",nt,[e[19]||(e[19]=t("dt",{class:"text-sm font-medium text-gray-700 truncate"},"Revisi",-1)),t("dd",it,a(o.stats.revision),1)]),t("div",rt,[e[20]||(e[20]=t("dt",{class:"text-sm font-medium text-gray-700 truncate"},"Dibatalkan",-1)),t("dd",dt,a(o.stats.cancelled),1)]),t("div",lt,[e[21]||(e[21]=t("dt",{class:"text-sm font-medium text-gray-700 truncate"},"Selesai",-1)),t("dd",ut,a(o.stats.completed),1)])])])]),t("div",mt,[t("div",ct,[t("div",xt,[t("div",gt,[t("div",pt,[t("div",ft,[t("table",bt,[e[23]||(e[23]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Detail Mobil "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Inspektur "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tanggal Inspeksi "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tindakan ")])],-1)),t("tbody",vt,[(l(!0),c(_,null,k(o.inspections.data,s=>(l(),c("tr",{key:s.id},[t("td",ht,[t("div",yt,[t("div",wt,[t("div",_t,a(s.car_name),1),t("div",kt,a(s.plate_number),1)])])]),t("td",Dt,[t("div",jt,a(s.user.name),1),t("div",St,a(s.user.email),1)]),t("td",Tt,[t("div",It,a(D(s.inspection_date)),1),t("div",Mt,a(j(s.inspection_date)),1)]),t("td",Ct,[t("span",{class:x(`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${T(s.status)}`)},a(S(s.status)),3)]),t("td",Bt,[m(r(g),{href:n.route("coordinator.inspections.show",{inspection:o.encryptedIds[s.id]}),class:"text-blue-600 hover:text-blue-900 mr-3"},{default:u(()=>e[22]||(e[22]=[d("Lihat")])),_:2,__:[22]},1032,["href"]),s.status==="pending"?(l(),c("button",{key:0,onClick:Ut=>I(s.id),class:"text-green-600 hover:text-green-900"},"Tugaskan",8,Lt)):L("",!0)])]))),128))])])]),t("div",Rt,[t("div",Vt,[m(r(g),{href:o.inspections.prev_page_url??"#",class:x(["relative inline-flex items-center px-4 py-2 border border-gray-500 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",{"opacity-50 pointer-events-none":!o.inspections.prev_page_url}]),"preserve-state":""},{default:u(()=>e[24]||(e[24]=[d(" < ")])),_:1,__:[24]},8,["href","class"]),m(r(g),{href:o.inspections.next_page_url??"#",class:x(["ml-3 relative inline-flex items-center px-4 py-2 border border-gray-500 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",{"opacity-50 pointer-events-none":!o.inspections.next_page_url}]),"preserve-state":""},{default:u(()=>e[25]||(e[25]=[d(" > ")])),_:1,__:[25]},8,["href","class"])]),t("div",Ot,[t("div",null,[t("p",zt,[e[26]||(e[26]=d(" Menampilkan ")),t("span",Ft,a(o.inspections.from),1),e[27]||(e[27]=d(" sampai ")),t("span",Ht,a(o.inspections.to),1),e[28]||(e[28]=d(" dari ")),t("span",Nt,a(o.inspections.total),1),e[29]||(e[29]=d(" hasil "))])]),t("div",null,[t("nav",Pt,[(l(!0),c(_,null,k(o.inspections.links,s=>(l(),y(r(g),{key:s.label,href:s.url||"#",class:x(`relative inline-flex items-center px-4 py-2 border text-sm font-medium 
                                                            ${s.active?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} 
                                                            ${s.url?"":"opacity-50 cursor-not-allowed"}`),innerHTML:s.label,"preserve-state":""},null,8,["href","class","innerHTML"]))),128))])])])])])])])])])])])]),_:1}))}};export{Kt as default};
