import{b as w,o as a,w as _,e as I,d as t,u as T,l as j,f as l,i as c,n as p,t as n,F as g,k as u,j as C,W as f}from"./vendor-BTHpbkmK.js";import{A as D}from"./AppLayout-DN0OSRb8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"flex-1 overflow-y-auto"},M={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},A={class:"space-y-6 bg-white rounded-xl shadow-md p-6"},P={class:"flex items-start justify-between"},$={class:"flex items-center space-x-3"},B={class:"px-2 py-2 sm:p-6"},N={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},V={class:"flex items-center"},F={class:"flex-shrink-0 h-16 w-16"},L=["src","alt"],R={class:"ml-4"},W={class:"text-lg font-medium text-gray-900"},O={class:"text-sm text-gray-500"},q={class:"text-sm text-gray-500"},z={class:"grid grid-cols-2 gap-4"},E={class:"mt-1 text-sm text-gray-900"},G={class:"mt-1 text-sm text-gray-900"},H={class:"mt-1 text-sm text-gray-900"},J={class:"mt-1 text-sm text-gray-900"},K={class:"px-2 py-2 sm:p-6 bg-gray-50 rounded-md"},U={class:"flex items-center"},Q={class:"flex-shrink-0 h-12 w-12"},X=["src","alt"],Y={class:"ml-4"},Z={class:"text-sm font-medium text-gray-900"},tt={class:"text-sm text-gray-500"},et={class:"text-sm text-gray-500"},st={class:"px-2 py-2 sm:p-6"},nt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},it={class:"mt-1 text-sm text-gray-900"},ot={class:"mt-1 text-sm text-gray-900"},at={class:"mt-1 text-sm text-gray-900"},lt={key:0,class:"px-2 py-2 sm:p-6 bg-gray-50 rounded-md"},dt={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},rt={class:"min-w-full divide-y divide-gray-300"},ct={class:"divide-y divide-gray-200 bg-white"},mt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},gt={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},ut={class:"px-3 py-4 text-sm text-gray-500"},xt={class:"whitespace-nowrap px-3 py-4 text-sm"},pt={key:1,class:"px-2 py-2 sm:p-6"},ft={class:"space-y-4"},yt={class:"flex items-center justify-between mb-2"},bt={class:"text-sm font-medium text-gray-900"},ht={class:"text-sm text-gray-500"},vt={class:"text-sm text-gray-700"},kt={class:"px-2 py-2 sm:px-6 bg-gray-50 rounded-md flex items-center justify-between"},wt={class:"text-sm text-gray-500"},_t={class:"flex space-x-3"},It={class:"mt-6 p-6 bg-white rounded-xl shadow-md"},Tt={key:0,class:"relative border-l-2 border-gray-300 pl-6"},jt={class:"bg-gray-50 rounded-lg p-3"},Ct={class:"font-medium"},Dt={class:"font-bold"},St={class:"text-gray-500"},Mt={key:1,class:"text-gray-500"},Bt={__name:"Show",props:{inspection:{type:Object,required:!0}},setup(s){const y=s,r=o=>{if(!o)return"N/A";const e=new Date(o),i={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return e.toLocaleDateString("id-ID",i)},b=o=>({pending:"Pending",in_progress:"In Progress",completed:"Completed",rejected:"Rejected"})[o]||o,h=o=>({pending:"bg-yellow-100 text-yellow-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[o]||"bg-gray-100 text-gray-800",v=o=>({good:"Good",fair:"Fair",poor:"Poor",damaged:"Damaged",not_checked:"Not Checked"})[o]||o,k=o=>({good:"bg-green-100 text-green-800",fair:"bg-yellow-100 text-yellow-800",poor:"bg-orange-100 text-orange-800",damaged:"bg-red-100 text-red-800",not_checked:"bg-gray-100 text-gray-800"})[o]||"bg-gray-100 text-gray-800",m=o=>{let e="",i="";o==="assign"?(e="Apakah Anda yakin ingin menugaskan inspektur ini?",i="in_progress"):o==="complete"?(e="Apakah Anda yakin ingin menyelesaikan inspeksi ini?",i="completed"):o==="reject"&&(e="Apakah Anda yakin ingin menolak inspeksi ini?",i="rejected"),confirm(e)&&f.post(route("coordinator.inspections.update-status",y.inspection.id),{status:i},{onSuccess:()=>{f.reload()},preserveScroll:!0})};return(o,e)=>(a(),w(D,null,{default:_(()=>[I(T(j),{title:`Detail Inspeksi - ${s.inspection.car.brand.name} ${s.inspection.car.model.name}`},null,8,["title"]),t("div",S,[t("div",M,[t("div",A,[t("div",P,[e[3]||(e[3]=t("div",null,[t("h3",{class:"text-lg font-medium text-gray-900"},"Informasi Inspeksi")],-1)),t("div",$,[t("span",{class:p(`px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full ${h(s.inspection.status)}`)},n(b(s.inspection.status)),3)])]),t("div",B,[e[8]||(e[8]=t("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Detail Mobil",-1)),t("div",N,[t("div",V,[t("div",F,[t("img",{class:"h-16 w-16 rounded-md object-cover",src:s.inspection.car.image||"https://placehold.co/100x100/22c55e/ffffff?text=Mobil",alt:s.inspection.car.brand.name},null,8,L)]),t("div",R,[t("div",W,n(s.inspection.car.brand.name)+" "+n(s.inspection.car.model.name)+" "+n(s.inspection.car.type.name),1),t("div",O,"Plat Nomor: "+n(s.inspection.plate_number),1),t("div",q,"Tahun: "+n(s.inspection.car.year),1)])]),t("div",z,[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700"},"Transmisi",-1)),t("p",E,n(s.inspection.car.transmission),1)]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700"},"Jenis Bahan Bakar",-1)),t("p",G,n(s.inspection.car.fuel_type),1)]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700"},"CC",-1)),t("p",H,n(s.inspection.car.cc)+" cc",1)]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700"},"Periode Produksi",-1)),t("p",J,n(s.inspection.car.production_period),1)])])])]),t("div",K,[e[9]||(e[9]=t("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Informasi Inspektur",-1)),t("div",U,[t("div",Q,[t("img",{class:"h-12 w-12 rounded-full object-cover",src:s.inspection.user.profile_photo_url||"https://placehold.co/48x48/22c55e/ffffff?text=USR",alt:s.inspection.user.name},null,8,X)]),t("div",Y,[t("div",Z,n(s.inspection.user.name),1),t("div",tt,n(s.inspection.user.email),1),t("div",et,n(s.inspection.user.phone_number),1)])])]),t("div",st,[e[13]||(e[13]=t("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Detail Inspeksi",-1)),t("div",nt,[t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700"},"Tanggal & Waktu Inspeksi",-1)),t("p",it,n(r(s.inspection.inspection_date)),1)]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700"},"Pembacaan Odometer",-1)),t("p",ot,n(s.inspection.odometer_reading?`${s.inspection.odometer_reading} km`:"Tidak tercatat"),1)]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700"},"Dibuat Pada",-1)),t("p",at,n(r(s.inspection.created_at)),1)])])]),s.inspection.items&&s.inspection.items.length>0?(a(),l("div",lt,[e[15]||(e[15]=t("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Hasil Inspeksi",-1)),t("div",dt,[t("table",rt,[e[14]||(e[14]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6"},"Item"),t("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Kondisi"),t("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Catatan"),t("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Status")])],-1)),t("tbody",ct,[(a(!0),l(g,null,u(s.inspection.items,(i,d)=>(a(),l("tr",{key:d},[t("td",mt,n(i.name),1),t("td",gt,n(i.condition||"Tidak Tersedia"),1),t("td",ut,n(i.notes||"Tidak ada catatan"),1),t("td",xt,[t("span",{class:p(`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${k(i.status)}`)},n(v(i.status)),3)])]))),128))])])])])):c("",!0),s.inspection.notes&&s.inspection.notes.length>0?(a(),l("div",pt,[e[16]||(e[16]=t("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Catatan Tambahan",-1)),t("div",ft,[(a(!0),l(g,null,u(s.inspection.notes,(i,d)=>{var x;return a(),l("div",{key:d,class:"bg-gray-50 p-4 rounded-lg"},[t("div",yt,[t("span",bt,n(((x=i.user)==null?void 0:x.name)||"Sistem"),1),t("span",ht,n(r(i.created_at)),1)]),t("p",vt,n(i.content),1)])}),128))])])):c("",!0),t("div",kt,[t("div",wt," Terakhir diperbarui: "+n(r(s.inspection.updated_at)),1),t("div",_t,[s.inspection.status==="draft"?(a(),l("button",{key:0,onClick:e[0]||(e[0]=i=>m("assign")),class:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150"}," Tugaskan Inspektur ")):c("",!0),s.inspection.status==="in_progress"?(a(),l("button",{key:1,onClick:e[1]||(e[1]=i=>m("complete")),class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150"}," Tandai Selesai ")):c("",!0),s.inspection.status!=="rejected"?(a(),l("button",{key:2,onClick:e[2]||(e[2]=i=>m("reject")),class:"inline-flex items-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 focus:bg-red-700 active:bg-red-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition ease-in-out duration-150"}," Tolak Inspeksi ")):c("",!0)])])]),t("div",It,[e[18]||(e[18]=t("h2",{class:"text-lg font-semibold mb-4"},"Riwayat Proses",-1)),s.inspection.logs.length>0?(a(),l("div",Tt,[(a(!0),l(g,null,u([...s.inspection.logs].sort((i,d)=>new Date(i.created_at)-new Date(d.created_at)),i=>{var d;return a(),l("div",{key:i.id,class:"mb-6 relative"},[e[17]||(e[17]=t("div",{class:"absolute -left-[11px] top-1 w-4 h-4 bg-blue-500 rounded-full border-2 border-white shadow"},null,-1)),t("div",jt,[t("p",Ct,[t("span",Dt,n(((d=i.user)==null?void 0:d.name)??"Sistem"),1),C(" "+n(i.description),1)]),t("small",St,n(r(i.created_at)),1)])])}),128))])):(a(),l("div",Mt,"Belum ada log."))])])])]),_:1}))}};export{Bt as default};
