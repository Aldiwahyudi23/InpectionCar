import{A as C}from"./AppLayout-EmgwNdPZ.js";import{e as n,o as r,a as e,d as k,c as L,w as g,b as i,f as x,u as d,i as j,F as M,h as D,t as a,g as c,S as y}from"./app-Ch5resOI.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as S,C as I}from"./CalendarDaysIcon-C9U4_fFu.js";function T(m,u){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})])}function A(m,u){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}const V={class:"py-2 md:py-10"},O={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},z={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2"},F={class:"p-4"},H={class:"flex items-center mb-1"},K={class:"text-sm font-semibold text-blue-700 ml-7 -mt-1"},P={class:"px-4 py-3 bg-gray-50 border-t border-gray-100"},E={class:"flex items-center"},J={class:"text-sm font-medium text-gray-800"},q={key:0},G={class:"text-gray-600"},Q={key:1},R={class:"flex items-center mt-2"},U={class:"text-sm font-bold text-gray-900"},W={key:0,class:"px-4 py-2 bg-white border-t border-gray-100"},X={class:"text-sm text-gray-800"},Y={class:"p-4"},Z=["onClick"],ee={key:1,class:"text-center py-8"},te={class:"text-center mt-6"},se={key:0,class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50"},ae={class:"bg-white rounded-lg shadow-xl max-w-md w-full"},oe={class:"p-6"},re={class:"flex items-start mb-4"},ne={key:0},ie={class:"font-medium text-gray-800"},de={class:"text-sm text-gray-600"},le={class:"text-gray-500"},ce={key:1,class:"text-sm font-medium text-gray-800"},me={class:"flex items-center mt-2"},ue={class:"text-base font-bold text-gray-900"},ge={class:"text-gray-600 mb-6"},pe={key:0,class:"font-semibold text-gray-800"},xe={class:"flex justify-end space-x-3"},ye={__name:"Index",props:{tasks:Array,encryptedIds:Object},setup(m){const u=k(!1),o=k(null),$=l=>{o.value=l,u.value=!0},B=()=>{u.value=!1},p=l=>{switch(l){case"draft":return"Mulai Inspeksi";case"in_progress":return"Lanjutkan Inspeksi";case"pending_review":return"Periksa Laporan";default:return"Detail"}};return(l,s)=>(r(),L(C,null,{default:g(()=>{var _,h,f,v,b,w;return[i(d(j),{title:"Tugas"}),e("div",V,[e("div",O,[s[5]||(s[5]=e("h3",{class:"text-xl md:text-3xl font-bold text-gray-900 mb-6 text-center"}," Inspeksi yang Harus Diselesaikan ",-1)),m.tasks.length>0?(r(),n("div",z,[(r(!0),n(M,null,D(m.tasks,t=>(r(),n("div",{key:t.id,class:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-200 hover:shadow-lg transition"},[e("div",F,[e("div",H,[i(d(S),{class:"h-5 w-5 text-blue-500 mr-2"}),s[0]||(s[0]=e("span",{class:"text-sm font-medium text-gray-600"},"Jadwal",-1))]),e("p",K,a(new Date(t.inspection_date).toLocaleDateString("id-ID",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})),1)]),e("div",P,[e("div",E,[i(d(I),{class:"h-5 w-5 text-gray-500 mr-2"}),e("div",J,[t.car?(r(),n("div",q,[c(a(`${t.car.brand.name} ${t.car.model.name} ${t.car.type.name} ${t.car.cc} ${t.car.transmission} ${t.car.year}`)+" ",1),e("span",G,"("+a(t.car.fuel_type)+")",1)])):(r(),n("div",Q,a(t.car_name),1))])]),e("div",R,[s[1]||(s[1]=e("span",{class:"text-xs font-semibold uppercase tracking-wide text-gray-500 mr-2"},"NO POLISI:",-1)),e("span",U,a(t.plate_number),1)])]),t.category?(r(),n("div",W,[s[2]||(s[2]=e("p",{class:"text-xs font-medium text-gray-500 tracking-wide"},"Kategori Inspek",-1)),e("p",X,a(t.category.name),1)])):x("",!0),e("div",Y,[e("button",{onClick:_e=>$(t),class:"inline-flex items-center justify-center w-full px-3 py-2 bg-gradient-to-r from-indigo-700 to-sky-600 shadow-lg text-white font-medium rounded-md text-sm transition-colors"},[c(a(p(t.status))+" ",1),i(d(T),{class:"ml-2 h-4 w-4"})],8,Z)])]))),128))])):(r(),n("div",ee,s[3]||(s[3]=[e("p",{class:"text-gray-500"},"Tidak ada tugas inspeksi yang tersedia.",-1)]))),e("div",te,[i(d(y),{href:l.route("inspections.history"),class:"inline-block px-4 py-2 text-sm font-medium text-indigo-600 border border-indigo-600 rounded-md hover:bg-blue-50"},{default:g(()=>s[4]||(s[4]=[c(" Lihat Inspeksi Lainnya ")])),_:1,__:[4]},8,["href"])])])]),i(d(y),{href:l.route("inspections.create.new"),class:"fixed bottom-24 right-6 z-40 p-4 bg-gradient-to-r from-indigo-700 to-sky-600 shadow-lg text-white rounded-full transition-colors duration-200 animate-bounce",title:"Buat Inspeksi Baru"},{default:g(()=>[i(d(A),{class:"h-6 w-6"})]),_:1},8,["href"]),u.value?(r(),n("div",se,[e("div",ae,[e("div",oe,[s[8]||(s[8]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Konfirmasi",-1)),e("div",re,[i(d(I),{class:"h-8 w-8 text-blue-500 mr-3 mt-1"}),e("div",null,[(_=o.value)!=null&&_.car?(r(),n("div",ne,[e("p",ie,a(`${o.value.car.brand.name} ${o.value.car.model.name} ${o.value.car.type.name}`),1),e("p",de,[c(a(o.value.car.cc)+" • "+a(o.value.car.transmission)+" • "+a(o.value.car.year)+" ",1),e("span",le,"("+a(o.value.car.fuel_type)+")",1)])])):(r(),n("div",ce,a((h=o.value)==null?void 0:h.car_name),1)),e("div",me,[s[6]||(s[6]=e("span",{class:"text-sm font-semibold uppercase tracking-wide text-gray-500 mr-2"},"no polisi:",-1)),e("span",ue,a((f=o.value)==null?void 0:f.plate_number),1)])])]),e("p",ge,[c(" Anda yakin ingin "+a(p((v=o.value)==null?void 0:v.status).toLowerCase())+" inspeksi ini ",1),(b=o.value)!=null&&b.category?(r(),n("span",pe," berdasarkan Type Inspek: "+a(o.value.category.name),1)):x("",!0),s[7]||(s[7]=c("? "))]),e("div",xe,[e("button",{onClick:B,type:"button",class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"}," Batal "),i(d(y),{href:l.route("inspections.start",{inspection:m.encryptedIds[(w=o.value)==null?void 0:w.id]}),method:"get",class:"px-4 py-2 bg-gradient-to-r from-indigo-700 to-sky-600 shadow-lg text-white border border-transparent rounded-md text-sm font-medium hover:bg-blue-700"},{default:g(()=>{var t;return[c(a(p((t=o.value)==null?void 0:t.status)),1)]}),_:1},8,["href"])])])])])):x("",!0)]}),_:1}))}},we=N(ye,[["__scopeId","data-v-60a994f9"]]);export{we as default};
