import{x as j,d as v,c as P,o as m,w as a,b as t,u as s,a as o,g as l,n as N,e as p,f as k,p as h,M as x,C as z,k as w,S as F,W as L}from"./app-DWtwCSw4.js";import{_ as U}from"./ActionMessage-eMSgWzR6.js";import{_ as A}from"./FormSection-DofIrXAh.js";import{_ as f}from"./InputError-oZKd40LB.js";import{_ as g}from"./InputLabel-Bk5K3LBw.js";import{_ as E}from"./PrimaryButton-BDgLWCkF.js";import{_ as V}from"./SecondaryButton-C31qvMwd.js";import{_ as C}from"./TextInput-C6s1li2B.js";import{_ as T}from"./InputNumber-dqWS_C4n.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SectionTitle-Cxanle1c.js";const H={key:0,class:"col-span-6 sm:col-span-4"},D={class:"mt-2 flex items-center space-x-4"},R=["src","alt"],W={class:"mt-2"},K={class:"mt-4 flex flex-wrap gap-2"},O={class:"col-span-6 sm:col-span-4"},G={class:"col-span-6 sm:col-span-4"},J={class:"col-span-6 sm:col-span-4"},Q={key:0,class:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg"},X={class:"text-sm text-yellow-700"},Y={class:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-sm text-green-700"},Z={key:0,class:"flex items-center"},ee={key:1},oe={__name:"UpdateProfileInformationForm",props:{user:Object},setup(d){const b=d,r=j({_method:"PUT",name:b.user.name,email:b.user.email,numberPhone:b.user.numberPhone,photo:null}),y=v(null),c=v(null),i=v(null),S=()=>{i.value&&(r.photo=i.value.files[0]),r.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>_()})},B=()=>{y.value=!0},M=()=>{i.value.click()},$=()=>{const n=i.value.files[0];if(!n)return;const e=new FileReader;e.onload=u=>{c.value=u.target.result},e.readAsDataURL(n)},I=()=>{L.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{c.value=null,_()}})},_=()=>{var n;(n=i.value)!=null&&n.value&&(i.value.value=null)};return(n,e)=>(m(),P(A,{onSubmitted:S},{title:a(()=>e[3]||(e[3]=[l(" Informasi Profil ")])),description:a(()=>e[4]||(e[4]=[l(" Perbarui informasi profil dan alamat email akun Anda. ")])),form:a(()=>[n.$page.props.jetstream.managesProfilePhotos?(m(),p("div",H,[o("input",{id:"photo",ref_key:"photoInput",ref:i,type:"file",class:"hidden",onChange:$},null,544),t(g,{for:"photo",value:"Foto Profil",class:"block text-sm font-medium text-gray-700 mb-2"}),h(o("div",D,[o("img",{src:d.user.profile_photo_url,alt:d.user.name,class:"rounded-full size-20 object-cover border-2 border-gray-300"},null,8,R)],512),[[x,!c.value]]),h(o("div",W,[o("span",{class:"block rounded-full size-20 bg-cover bg-no-repeat bg-center border-2 border-gray-300",style:z("background-image: url('"+c.value+"');")},null,4)],512),[[x,c.value]]),o("div",K,[t(V,{type:"button",onClick:w(M,["prevent"]),class:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"},{default:a(()=>e[5]||(e[5]=[l(" Pilih Foto Baru ")])),_:1,__:[5]}),d.user.profile_photo_path?(m(),P(V,{key:0,type:"button",onClick:w(I,["prevent"]),class:"px-4 py-2 bg-red-100 border border-red-300 rounded-lg text-sm font-medium text-red-700 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors duration-200"},{default:a(()=>e[6]||(e[6]=[l(" Hapus Foto ")])),_:1,__:[6]})):k("",!0)]),t(f,{message:s(r).errors.photo,class:"mt-2 text-sm text-red-600"},null,8,["message"])])):k("",!0),o("div",O,[t(g,{for:"name",value:"Nama",class:"block text-sm font-medium text-gray-700 mb-2"}),t(C,{id:"name",modelValue:s(r).name,"onUpdate:modelValue":e[0]||(e[0]=u=>s(r).name=u),type:"text",class:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",required:"",autocomplete:"name",placeholder:"Masukkan nama lengkap"},null,8,["modelValue"]),t(f,{message:s(r).errors.name,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),o("div",G,[t(g,{for:"name",value:"Nama",class:"block text-sm font-medium text-gray-700 mb-2"}),t(T,{id:"numberPhone",modelValue:s(r).numberPhone,"onUpdate:modelValue":e[1]||(e[1]=u=>s(r).numberPhone=u),type:"text",class:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",required:"",autocomplete:"numberPhone",placeholder:"Masukkan No HP"},null,8,["modelValue"]),t(f,{message:s(r).errors.numberPhone,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),o("div",J,[t(g,{for:"email",value:"Email",class:"block text-sm font-medium text-gray-700 mb-2"}),t(C,{id:"email",modelValue:s(r).email,"onUpdate:modelValue":e[2]||(e[2]=u=>s(r).email=u),type:"email",class:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",required:"",autocomplete:"email",placeholder:"email@example.com"},null,8,["modelValue"]),t(f,{message:s(r).errors.email,class:"mt-2 text-sm text-red-600"},null,8,["message"]),n.$page.props.jetstream.hasEmailVerification&&d.user.email_verified_at===null?(m(),p("div",Q,[o("p",X,[e[8]||(e[8]=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),e[9]||(e[9]=l(" Alamat email Anda belum terverifikasi. ")),t(s(F),{href:n.route("verification.send"),method:"post",as:"button",class:"underline text-yellow-700 hover:text-yellow-800 font-medium ml-1 transition-colors duration-200",onClick:w(B,["prevent"])},{default:a(()=>e[7]||(e[7]=[l(" Klik di sini untuk mengirim ulang email verifikasi. ")])),_:1,__:[7]},8,["href"])]),h(o("div",Y,e[10]||(e[10]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),l(" Tautan verifikasi baru telah dikirim ke alamat email Anda. ")]),512),[[x,y.value]])])):k("",!0)])]),actions:a(()=>[t(U,{on:s(r).recentlySuccessful,class:"me-3 text-sm text-green-600 font-medium"},{default:a(()=>e[11]||(e[11]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),l(" Tersimpan. ")])),_:1,__:[11]},8,["on"]),t(E,{class:N(["px-6 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white","bg-gradient-to-r from-sky-600 to-blue-700 hover:from-sky-700 hover:to-blue-800","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","transition-all duration-200 transform hover:scale-105",s(r).processing?"opacity-50 cursor-not-allowed":""]),disabled:s(r).processing},{default:a(()=>[s(r).processing?(m(),p("span",Z,e[12]||(e[12]=[o("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),l(" Menyimpan... ")]))):(m(),p("span",ee,e[13]||(e[13]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),l(" Simpan ")])))]),_:1},8,["class","disabled"])]),_:1}))}},pe=q(oe,[["__scopeId","data-v-1d29ed1c"]]);export{pe as default};
