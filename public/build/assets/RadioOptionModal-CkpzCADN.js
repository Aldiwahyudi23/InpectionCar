import L from"./InputImage-CxN_Tu8i.js";import Z from"./InputTextarea-o3DjKd7m.js";import _ from"./BottomSheetModal-X1geAZQb.js";import ee from"./InputAccount-CbAzA0fb.js";import te from"./InputDate-By-igtci.js";import ne from"./InputNumber-BLISdcLF.js";import ie from"./InputText-aPa2T8tF.js";import{q as z,j as se,o as a,w as E,d,c as l,b as o,k as g,n as K,F as ae,m as le,t as oe,f as R}from"./vendor-g77w9U1W.js";import"./ImageSourceOptionsModal-CoH0kONx.js";import"./WebcamModal-CQoUcIsB.js";import"./app-Wakejqzl.js";import"./PreviewModal-YC3S8XpB.js";const ue={class:"space-y-4"},re={key:0,class:"mt-2"},de={key:1,class:"mt-2"},me={key:2,class:"mt-2"},ge={key:3,class:"mt-2"},pe={key:4,class:"mt-2"},fe={class:"text-sm font-medium text-gray-700 mb-2"},ve={key:0,class:"text-red-500"},he={key:0,class:"text-xs text-red-500"},Ve=["name","value","checked"],xe={key:6,class:"space-y-2"},ye={key:0,class:"text-red-500"},be={key:1,class:"text-xs text-red-500"},ce={key:7,class:"mt-4"},we={class:"text-sm font-medium text-gray-700 mb-2"},ke={key:0,class:"text-red-500"},$e={key:0,class:"text-xs text-red-500"},qe={class:"flex gap-2"},Se=["disabled"],He={__name:"RadioOptionModal",props:{show:Boolean,title:String,subtitle:String,name:String,options:{type:Array,default:()=>[]},selectedValue:String,notesValue:String,imagesValue:{type:Array,default:()=>[]},pointId:[String,Number],inspectionId:[String,Number],showTextarea:{type:Boolean,default:!0},showImageUpload:{type:Boolean,default:!0},selectedPoint:Object,point:Object},emits:["update:selectedValue","update:notesValue","update:imagesValue","close","save","hapus","saveTextarea","saveImage","saveText","saveNumber","saveAccount","saveDate"],setup(e,{emit:G}){const t=e,J=G,Q=i=>J("hapus",i),u=z(()=>t.options.find(i=>i.value===t.selectedValue)),W=z(()=>{var n,m,v,h,V,x,y;if(t.point.input_type==="text"&&(!((n=t.notesValue)!=null&&n.trim())||t.point.settings.min_length&&t.notesValue.length<t.point.settings.min_length||t.point.settings.max_length&&t.notesValue.length>t.point.settings.max_length)||t.point.input_type==="number"&&(!((m=t.notesValue)!=null&&m.trim())||t.point.settings.min&&t.notesValue.length<t.point.settings.min||t.point.settings.max&&t.notesValue.length>t.point.settings.max)||t.point.input_type==="account"&&(!((v=t.notesValue)!=null&&v.trim())||t.point.settings.min_value&&t.notesValue.length<t.point.settings.min_value||t.point.settings.max_value&&t.notesValue.length>t.point.settings.max_value)||t.point.input_type==="date"&&(!((h=t.notesValue)!=null&&h.trim())||t.point.settings.min_date&&t.notesValue.length<t.point.settings.min_date||t.point.settings.max_date&&t.notesValue.length>t.point.settings.max_date))return!1;if(t.point.input_type==="imageTOradio"){if(t.imagesValue.length===0)return!1;const p=t.imagesValue.some(r=>r.status==="error"),f=t.imagesValue.some(r=>r.status==="uploading");if(p||f)return!1}if(t.options.length&&!t.selectedValue)return!1;const i=u.value;if(t.showTextarea&&((V=i==null?void 0:i.settings)!=null&&V.show_textarea)&&(!((x=t.notesValue)!=null&&x.trim())||i.settings.min_length&&t.notesValue.length<i.settings.min_length||i.settings.max_length&&t.notesValue.length>i.settings.max_length))return!1;if(t.showImageUpload&&((y=i==null?void 0:i.settings)!=null&&y.show_image_upload)){if(t.imagesValue.length===0||i.settings.max_files&&t.imagesValue.length>i.settings.max_files)return!1;const p=t.imagesValue.some(r=>r.status==="error"),f=t.imagesValue.some(r=>r.status==="uploading");if(p||f)return!1}return!0});return(i,n)=>(a(),se(_,{show:e.show,title:e.title,subtitle:e.subtitle,onClose:n[18]||(n[18]=m=>i.$emit("close"))},{footer:E(()=>[e.selectedPoint?(a(),l("button",{key:0,onClick:n[15]||(n[15]=m=>Q(e.pointId)),class:"flex items-center justify-center text-red-600 hover:text-red-800 mb-3"},n[20]||(n[20]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6M9 7h6m2-3H7m5 0v3"})],-1),R(" Hapus Data ")]))):o("",!0),d("div",qe,[d("button",{type:"button",onClick:n[16]||(n[16]=m=>i.$emit("close")),class:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"}," Batal "),d("button",{type:"button",onClick:n[17]||(n[17]=m=>i.$emit("save")),disabled:!W.value,class:"flex-1 px-4 py-2 bg-indigo-600 border border-transparent rounded-md shadow-sm text-white hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed"}," Simpan ",8,Se)])]),default:E(()=>{var m,v,h,V,x,y,p,f,r,b,c,w,k,$,q,S,I,T,U,B,C,j,F,M,N,O,A,D,H,P;return[d("div",ue,[e.point.input_type==="text"?(a(),l("div",re,[g(ie,{"model-value":e.notesValue,required:(m=e.point.settings)==null?void 0:m.is_required,"min-length":(v=e.point.settings)==null?void 0:v.min_length,"max-length":(h=e.point.settings)==null?void 0:h.max_length,allowSpace:(V=e.point.settings)==null?void 0:V.allow_space,textTransform:(x=e.point.settings)==null?void 0:x.text_transform,placeholder:((y=e.point.settings)==null?void 0:y.placeholder)||"Masukan text",error:i.error,"onUpdate:modelValue":n[0]||(n[0]=s=>i.$emit("update:notesValue",s)),onSave:n[1]||(n[1]=s=>i.$emit("saveText",s))},null,8,["model-value","required","min-length","max-length","allowSpace","textTransform","placeholder","error"])])):o("",!0),e.point.input_type==="number"?(a(),l("div",de,[g(ne,{"model-value":e.notesValue,required:(p=e.point.settings)==null?void 0:p.is_required,min:(f=e.point.settings)==null?void 0:f.min,max:(r=e.point.settings)==null?void 0:r.max,step:((b=e.point.settings)==null?void 0:b.step)||1,placeholder:((c=e.point.settings)==null?void 0:c.placeholder)||"Masukan number",error:i.error,"onUpdate:modelValue":n[2]||(n[2]=s=>i.$emit("update:notesValue",s)),onSave:n[3]||(n[3]=s=>i.$emit("saveNumber",s))},null,8,["model-value","required","min","max","step","placeholder","error"])])):o("",!0),e.point.input_type==="account"?(a(),l("div",me,[g(ee,{"model-value":e.notesValue,required:(w=e.point.settings)==null?void 0:w.is_required,placeholder:((k=e.point.settings)==null?void 0:k.placeholder)||"Masukkan nilai",error:i.error,"point-id":e.pointId,settings:e.point.settings,"onUpdate:modelValue":n[4]||(n[4]=s=>i.$emit("update:notesValue",s)),onSave:n[5]||(n[5]=s=>i.$emit("saveAccount",s))},null,8,["model-value","required","placeholder","error","point-id","settings"])])):o("",!0),e.point.input_type==="date"?(a(),l("div",ge,[g(te,{"model-value":e.notesValue,required:($=e.point.settings)==null?void 0:$.is_required,"min-date":(q=e.point.settings)==null?void 0:q.min_date,"max-date":(S=e.point.settings)==null?void 0:S.max_date,error:i.error,"onUpdate:modelValue":n[6]||(n[6]=s=>i.$emit("update:notesValue",s)),onSave:n[7]||(n[7]=s=>i.$emit("saveDate",s))},null,8,["model-value","required","min-date","max-date","error"])])):o("",!0),e.point.input_type==="imageTOradio"?(a(),l("div",pe,[d("h4",fe,[(I=e.point.settings)!=null&&I.required?(a(),l("span",ve,"*")):o("",!0)]),g(L,{"model-value":e.imagesValue,"point-id":e.pointId,point:e.point.inspection_point,"inspection-id":e.inspectionId,settings:e.point.settings,"onUpdate:modelValue":n[8]||(n[8]=s=>i.$emit("update:imagesValue",s)),onSave:n[9]||(n[9]=s=>i.$emit("saveImage",s))},null,8,["model-value","point-id","point","inspection-id","settings"]),(T=e.point.settings)!=null&&T.required&&e.imagesValue.length===0?(a(),l("p",he," Foto wajib diupload ")):o("",!0)])):o("",!0),e.options.length?(a(),l("div",{key:5,class:K(["grid gap-2 w-full mt-2",`grid-cols-${Math.min(e.options.length,3)}`])},[(a(!0),l(ae,null,le(e.options,(s,X)=>(a(),l("label",{key:X,class:"cursor-pointer"},[d("input",{type:"radio",name:e.name,value:s.value,checked:e.selectedValue===s.value,onChange:n[10]||(n[10]=Y=>i.$emit("update:selectedValue",Y.target.value)),class:"hidden peer"},null,40,Ve),d("div",{class:K(["w-full px-4 py-3 border rounded-lg text-center transition-colors whitespace-nowrap text-sm font-medium",{"border-indigo-500 bg-indigo-50 text-indigo-700":e.selectedValue===s.value,"border-gray-300 text-gray-700 hover:bg-gray-50":e.selectedValue!==s.value}])},oe(s.label),3)]))),128))],2)):o("",!0),e.showTextarea&&((B=(U=u.value)==null?void 0:U.settings)!=null&&B.show_textarea)?(a(),l("div",xe,[(C=u.value.settings)!=null&&C.required?(a(),l("span",ye,"*")):o("",!0),g(Z,{"model-value":e.notesValue,"point-id":e.pointId,"inspection-id":e.inspectionId,settings:u.value.settings,required:(j=u.value.settings)==null?void 0:j.required,"min-length":(F=u.value.settings)==null?void 0:F.min_length,"max-length":(M=u.value.settings)==null?void 0:M.max_length,placeholder:((N=u.value.settings)==null?void 0:N.placeholder)||"Tambahkan keterangan...","onUpdate:modelValue":n[11]||(n[11]=s=>i.$emit("update:notesValue",s)),onSave:n[12]||(n[12]=s=>i.$emit("saveTextarea",s))},null,8,["model-value","point-id","inspection-id","settings","required","min-length","max-length","placeholder"]),(O=u.value.settings)!=null&&O.required&&!e.notesValue?(a(),l("p",be," Keterangan wajib diisi ")):o("",!0)])):o("",!0),e.showImageUpload&&((D=(A=u.value)==null?void 0:A.settings)!=null&&D.show_image_upload)?(a(),l("div",ce,[d("h4",we,[n[19]||(n[19]=R(" Upload Foto ")),(H=u.value.settings)!=null&&H.required?(a(),l("span",ke,"*")):o("",!0)]),g(L,{"model-value":e.imagesValue,"point-id":e.pointId,point:e.point,"inspection-id":e.inspectionId,settings:u.value.settings,"onUpdate:modelValue":n[13]||(n[13]=s=>i.$emit("update:imagesValue",s)),onSave:n[14]||(n[14]=s=>i.$emit("saveImage",s))},null,8,["model-value","point-id","point","inspection-id","settings"]),(P=u.value.settings)!=null&&P.required&&e.imagesValue.length===0?(a(),l("p",$e," Foto wajib diupload ")):o("",!0)])):o("",!0)])]}),_:1},8,["show","title","subtitle"]))}};export{He as default};
