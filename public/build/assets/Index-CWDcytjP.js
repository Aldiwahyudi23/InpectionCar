import{O as I,W as x,b as f,o as l,w as b,e as v,d as t,u as r,l as C,t as o,v as g,H as h,y as B,f as u,F as y,k as w,n as _,i as L,S as k,j as d}from"./vendor-BTHpbkmK.js";import{l as R}from"./lodash-DIQq7uM1.js";import{A as V}from"./AppLayout-DN0OSRb8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"flex-1 overflow-y-auto"},O={class:"bg-white shadow-md p-4 md:p-6 flex items-center justify-between"},F={class:"flex items-center space-x-4 text-sm text-gray-600"},H={class:"max-w-4xl mx-auto py-4 sm:px-4 lg:px-4"},N={class:"px-4 sm:px-0 mb-4"},P={class:"bg-white overflow-hidden shadow-lg rounded-2xl p-4"},U={class:"grid grid-cols-2 sm:grid-cols-2 gap-4 mb-4"},W={class:"px-4 sm:px-0 mb-4"},$={class:"flex flex-col gap-4"},E={class:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},A={class:"text-3xl font-semibold"},K={class:"grid grid-cols-3 sm:grid-cols-3 gap-2"},q={class:"bg-white p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},G={class:"text-2xl font-semibold text-yellow-600"},J={class:"bg-white p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},Q={class:"text-2xl font-semibold text-blue-600"},X={class:"bg-white p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},Y={class:"text-2xl font-semibold text-yellow-600"},Z={class:"bg-white p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},tt={class:"text-2xl font-semibold text-yellow-600"},et={class:"bg-white p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},st={class:"text-2xl font-semibold text-yellow-600"},ot={class:"bg-white p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},at={class:"text-2xl font-semibold text-yellow-600"},nt={class:"bg-white p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},it={class:"text-2xl font-semibold text-yellow-600"},lt={class:"bg-white p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},rt={class:"text-2xl font-semibold text-yellow-600"},dt={class:"bg-white p-2 rounded-2xl shadow-lg text-center transition-transform transform hover:scale-105 duration-300"},ut={class:"text-2xl font-semibold text-green-600"},ct={class:"px-4 sm:px-0"},mt={class:"bg-white shadow-lg overflow-hidden rounded-2xl"},xt={class:"flex flex-col"},gt={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},pt={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},ft={class:"shadow overflow-hidden border-b border-gray-200 rounded-xl"},bt={class:"min-w-full divide-y divide-gray-200"},vt={class:"bg-white divide-y divide-gray-200"},ht={class:"px-6 py-4 whitespace-nowrap"},yt={class:"flex items-center"},wt={class:"ml-4"},_t={class:"text-sm font-medium text-gray-900"},kt={class:"text-sm text-gray-500"},Dt={class:"px-6 py-4 whitespace-nowrap"},jt={class:"text-sm text-gray-900"},St={class:"text-sm text-gray-500"},Tt={class:"px-6 py-4 whitespace-nowrap"},Mt={class:"text-sm text-gray-900"},It={class:"text-sm text-gray-500"},Ct={class:"px-6 py-4 whitespace-nowrap"},Bt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Lt=["onClick"],Rt={class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-4"},Vt={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},zt={class:"text-sm text-gray-700"},Ot={class:"font-medium"},Ft={class:"font-medium"},Ht={class:"font-medium"},Nt={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},At={__name:"Index",props:{inspections:Object,filters:Object,stats:Object,region:Object},setup(a){const c=a,i=I({status:c.filters.status||"",dateRange:c.filters.dateRange||"all",search:c.filters.search||""}),p=R.debounce(()=>{m()},500),m=()=>{x.get(route("coordinator.inspections.index"),i,{preserveState:!0,replace:!0})},D=n=>{const e={year:"numeric",month:"long",day:"numeric"};return new Date(n).toLocaleDateString("id-ID",e)},j=n=>{const e={hour:"2-digit",minute:"2-digit"};return new Date(n).toLocaleTimeString("id-ID",e)},S=n=>({draft:"Dibuat",in_progress:"Dalam Proses",pending:"Tertunda",pending_review:"Menunggu Tinjauan",approved:"Disetujui",rejected:"Ditolak",revision:"Revisi",completed:"Selesai",cancelled:"Dibatalkan"})[n]||n,T=n=>({draft:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",pending:"bg-yellow-100 text-yellow-800",pending_review:"bg-purple-100 text-purple-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",revision:"bg-orange-100 text-orange-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[n]||"bg-gray-100 text-gray-800",M=async n=>{try{await x.post(route("coordinator.inspections.assign",n)),x.reload({only:["inspections","stats"]})}catch(e){console.error("Error assigning inspection:",e)}};return(n,e)=>(l(),f(V,{title:"Buat Inspeksi Baru"},{default:b(()=>[v(r(C),{title:"Dashboard Koordinator"}),t("div",z,[t("header",O,[e[5]||(e[5]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Dashboard Koordinator",-1)),t("div",F,[e[4]||(e[4]=t("svg",{class:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),t("span",null,"Wilayah: "+o(a.region.name),1)])]),t("main",H,[t("div",N,[t("div",P,[e[11]||(e[11]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Saring Inspeksi",-1)),t("div",U,[t("div",null,[e[7]||(e[7]=t("label",{for:"status",class:"block text-sm font-medium text-gray-700"},"Status",-1)),g(t("select",{id:"status","onUpdate:modelValue":e[0]||(e[0]=s=>i.status=s),onChange:m,class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md"},e[6]||(e[6]=[t("option",{value:""},"Semua Status",-1),t("option",{value:"draft"},"Dibuat",-1),t("option",{value:"in_progress"},"Dalam Proses",-1),t("option",{value:"pending"},"Tertunda",-1),t("option",{value:"pending_review"},"Menunggu Tinjauan",-1),t("option",{value:"approved"},"Disetujui",-1),t("option",{value:"rejected"},"Ditolak",-1),t("option",{value:"revision"},"Revisi",-1),t("option",{value:"completed"},"Selesai",-1),t("option",{value:"cancelled"},"Dibatalkan",-1)]),544),[[h,i.status]])]),t("div",null,[e[9]||(e[9]=t("label",{for:"date",class:"block text-sm font-medium text-gray-700"},"Rentang Tanggal",-1)),g(t("select",{id:"date","onUpdate:modelValue":e[1]||(e[1]=s=>i.dateRange=s),onChange:m,class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md"},e[8]||(e[8]=[t("option",{value:"all"},"Sepanjang Waktu",-1),t("option",{value:"today"},"Hari Ini",-1),t("option",{value:"week"},"Minggu Ini",-1),t("option",{value:"month"},"Bulan Ini",-1)]),544),[[h,i.dateRange]])])]),t("div",null,[e[10]||(e[10]=t("label",{for:"search",class:"block text-sm font-medium text-gray-700"},"Cari",-1)),g(t("input",{type:"text",id:"search","onUpdate:modelValue":e[2]||(e[2]=s=>i.search=s),onInput:e[3]||(e[3]=(...s)=>r(p)&&r(p)(...s)),placeholder:"Cari berdasarkan mobil atau inspektur...",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},null,544),[[B,i.search]])])])]),t("div",W,[t("div",$,[t("div",E,[e[12]||(e[12]=t("dt",{class:"text-sm font-medium opacity-80"},"Total Inspeksi",-1)),t("dd",A,o(a.stats.total),1)]),t("div",K,[t("div",q,[e[13]||(e[13]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Dibuat",-1)),t("dd",G,o(a.stats.draft),1)]),t("div",J,[e[14]||(e[14]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Dalam Proses",-1)),t("dd",Q,o(a.stats.in_progress),1)]),t("div",X,[e[15]||(e[15]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Tertunda",-1)),t("dd",Y,o(a.stats.pending),1)]),t("div",Z,[e[16]||(e[16]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Ditinjauan",-1)),t("dd",tt,o(a.stats.pending_review),1)]),t("div",et,[e[17]||(e[17]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Disetujui",-1)),t("dd",st,o(a.stats.approved),1)]),t("div",ot,[e[18]||(e[18]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Ditolak",-1)),t("dd",at,o(a.stats.rejected),1)]),t("div",nt,[e[19]||(e[19]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Revisi",-1)),t("dd",it,o(a.stats.revision),1)]),t("div",lt,[e[20]||(e[20]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Dibatalkan",-1)),t("dd",rt,o(a.stats.cancelled),1)]),t("div",dt,[e[21]||(e[21]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Selesai",-1)),t("dd",ut,o(a.stats.completed),1)])])])]),t("div",ct,[t("div",mt,[t("div",xt,[t("div",gt,[t("div",pt,[t("div",ft,[t("table",bt,[e[23]||(e[23]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Detail Mobil "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Inspektur "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tanggal Inspeksi "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tindakan ")])],-1)),t("tbody",vt,[(l(!0),u(y,null,w(a.inspections.data,s=>(l(),u("tr",{key:s.id},[t("td",ht,[t("div",yt,[t("div",wt,[t("div",_t,o(s.car_name),1),t("div",kt,o(s.plate_number),1)])])]),t("td",Dt,[t("div",jt,o(s.user.name),1),t("div",St,o(s.user.email),1)]),t("td",Tt,[t("div",Mt,o(D(s.inspection_date)),1),t("div",It,o(j(s.inspection_date)),1)]),t("td",Ct,[t("span",{class:_(`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${T(s.status)}`)},o(S(s.status)),3)]),t("td",Bt,[v(r(k),{href:n.route("coordinator.inspections.show",s.id),class:"text-blue-600 hover:text-blue-900 mr-3"},{default:b(()=>e[22]||(e[22]=[d("Lihat")])),_:2,__:[22]},1032,["href"]),s.status==="pending"?(l(),u("button",{key:0,onClick:Pt=>M(s.id),class:"text-green-600 hover:text-green-900"},"Tugaskan",8,Lt)):L("",!0)])]))),128))])])]),t("div",Rt,[t("div",Vt,[t("div",null,[t("p",zt,[e[24]||(e[24]=d(" Menampilkan ")),t("span",Ot,o(a.inspections.from),1),e[25]||(e[25]=d(" sampai ")),t("span",Ft,o(a.inspections.to),1),e[26]||(e[26]=d(" dari ")),t("span",Ht,o(a.inspections.total),1),e[27]||(e[27]=d(" hasil "))])]),t("div",null,[t("nav",Nt,[(l(!0),u(y,null,w(a.inspections.links,s=>(l(),f(r(k),{key:s.label,href:s.url||"#",class:_(`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${s.active?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} ${s.url?"":"opacity-50 cursor-not-allowed"}`),innerHTML:s.label,"preserve-state":""},null,8,["href","class","innerHTML"]))),128))])])])])])])])])])])])]),_:1}))}};export{At as default};
